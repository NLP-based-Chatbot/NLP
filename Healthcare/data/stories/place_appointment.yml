version: "2.0"

stories:

- story: place an appiontment 
  steps:
  - intent: make_appiontment
  - action: form_place_appointment
  - active_loop: form_place_appointment
  - slot_was_set:
    - requested_slot: docthash
  - slot_was_set:
    - requested_slot: userhash
  - slot_was_set:
    - requested_slot: date
  - slot_was_set:
    - requested_slot: time
  - action: utter_ask_name
  - intent: inform_patient_name
  - action: utter_ask_wether_doct_specialist
  - checkpoint: asked_is_specialist

- story: place appointment specialist 
  steps:
  - checkpoint: asked_is_specialist
  - intent: affirm
  - action: act_list_specilizations
  - intent: inform
    entities:
    - spec_id: 12
  - slot_was_set:
    - spec_id: 12
  - checkpoint: end_of_select_specilization_phase

- story: place appointment not specialist 
  steps:
  - checkpoint: asked_is_specialist
  - intent: deny
  - checkpoint: end_of_select_specilization_phase


- story: after specialization phase
  steps:
  - checkpoint: end_of_select_specilization_phase
  - action: act_list_doctors
  - intent: inform_docthash
  - action: utter_ask_date
  - or:
    - intent: inform_relativetime
    - intent: inform_date
  - action: act_show_timerange
  - action: utter_ask_time
  - intent: inform_time
  - action: form_place_appointment
  - active_loop: null

