version: "2.0"

stories:

- story: get doctor list - spec is provided
  steps:
  - intent: get_doctor_list
  - slot_was_set:
    - spec_id: 2
  - action: act_list_doctors
  - action: action_listen

- story: get doctor list - spec is not provided
  steps:
  - intent: get_doctor_list
  - slot_was_set:
    - spec_id: null
  - action: act_list_doctors
  - action: action_listen

- story: get time - doctor is selected
  steps:
  - intent: get_time_slot
  - slot_was_set:
    - docthash: doc_4h24kh23344hj342k5fhj2f5h1
  - action: act_show_timerange
  - action: action_listen

- story: get time - doctor is not selected
  steps:
  - intent: get_time_slot
  - slot_was_set:
    - docthash: null
  - action: utter_ask_toselect_doctor
  - action: action_listen

- story: get spec list
  steps:
  - intent: get_spec_list
  - action: act_list_specilizations
  - action: action_listen

- story: provide date
  steps:
  - or:
    - intent: inform_relativetime
    - intent: inform_date
  - action: utter_date_selection_success

- story: provide time - doctor is not selected
  steps:
  - intent: inform_time
  - slot_was_set:
    - docthash: null
  - action: utter_ask_toselect_doctor
  - action: action_listen

- story: provide time - doctor is selected
  steps:
  - intent: inform_time
  - slot_was_set:
    - docthash: doc_hk4423kh5k235h2k3542k5k234
  - action: utter_time_selection_success
  - action: action_listen

- story: provide user name
  steps:
  - intent: inform_patient_name
  - action: act_new_patient
  - action: action_listen

- story: provide user hash
  steps:
  - intent: inform_userhash
  - action: act_prompt_userdata  
  - action: action_listen

- story: provide doct hash
  steps:
  - intent: inform_docthash
  - action: utter_doct_selection_success
  - action: action_listen

- story: inform spec id
  steps:
  - intent: inform
  - slot_was_set:
    - spec_id: 2
  - action: action_listen